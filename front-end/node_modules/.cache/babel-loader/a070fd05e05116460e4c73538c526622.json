{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\projects\\\\theground\\\\front-end\\\\src\\\\match\\\\Match.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux/es/exports\";\nimport { configActions } from \"../redux/slice/configSlice\";\nimport { testActions } from \"../redux/slice/testSlice\";\nimport axios from \"axios\";\nimport MatchOPPO from \"./components/matchOPPO/MatchOPPO\";\nimport AssignHitters from \"./components/assignHitters/assignHitters\";\nimport MatchLineup from \"./components/matchLineup/MatchLineup\";\nimport BackApi from \"../api/BackApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Match = () => {\n  _s();\n\n  const user = useSelector(state => state.user.user);\n  const players = useSelector(state => state.player.players); // 테스트 데이터\n\n  const matches = useSelector(state => state.test.matches);\n  const nextMatchIndex = useSelector(state => state.test.nextMatchIndex);\n  const dispatch = useDispatch();\n  const [pageActive, setPageActive] = useState([true, false, false]);\n  const [brief, setBrief] = useState({\n    away: {\n      teamName: null,\n      teamLogoUrl: null,\n      teamWin: null,\n      teamLose: null,\n      teamDraw: null,\n      startingPitcher: null\n    },\n    home: {\n      teamName: null,\n      teamLogoUrl: null,\n      teamWin: null,\n      teamLose: null,\n      teamDraw: null,\n      startingPitcher: null\n    }\n  });\n  const [myHitters, setMyHitters] = useState([]);\n  const [myPitcher, setMyPitcher] = useState({});\n  const [oppoPitcher, setOppoPitcher] = useState({});\n  useEffect(() => {\n    if (user) {\n      // (async () => {\n      //   await axios\n      //     .get(BackApi.game.brief, {\n      //       headers: {\n      //         \"X-ACCESS-TOKEN\": user.jwt,\n      //       },\n      //     })\n      //     .then((res) => {\n      //       setBrief(res.data);\n      //       dispatch(configActions.setPersentage(50));\n      //     })\n      //     .catch((error) => {\n      //       console.log(error);\n      //       dispatch(configActions.setPersentage(50));\n      //     });\n      // })();\n      (async () => {\n        await axios.get(BackApi.manage.rotation, {\n          headers: {\n            \"X-ACCESS-TOKEN\": user.jwt\n          }\n        }).then(res => {\n          dispatch(testActions.setHome({\n            teamName: user.userTeamname,\n            teamLogoUrl: user.logoUrl,\n            teamWin: user.userWin,\n            teamLose: user.userLose,\n            teamDraw: user.userDraw,\n            startingPitcher: res.data.teamSetting1stSp.pitcherSeq\n          }));\n          setBrief(matches[nextMatchIndex]);\n          dispatch(configActions.setPersentage(50));\n        }).catch(error => {\n          console.log(error);\n          dispatch(configActions.setPersentage(50));\n        });\n      })();\n\n      (async () => {\n        await axios.get(BackApi.trade.possHitters, {\n          headers: {\n            \"X-ACCESS-TOKEN\": user.jwt\n          }\n        }).then(res => {\n          setMyHitters(res.data);\n          dispatch(configActions.setPersentage(50));\n        }).catch(error => {\n          console.log(error);\n        });\n      })();\n\n      if (brief.matchSeq) {\n        setMyPitcher(() => {\n          for (let pit of players.pitcher) {\n            if (pit.pitcherSeq === brief.home.startingPitcher) {\n              return pit;\n            }\n          }\n        });\n        setOppoPitcher(() => {\n          for (let pit of players.pitcher) {\n            if (pit.pitcherSeq === brief.away.startingPitcher) {\n              return pit;\n            }\n          }\n        });\n      } else {\n        setMyPitcher(() => {\n          for (let pit of players.pitcher) {\n            if (pit.pitcherSeq === brief.away.startingPitcher) {\n              return pit;\n            }\n          }\n        });\n        setOppoPitcher(() => {\n          for (let pit of players.pitcher) {\n            if (pit.pitcherSeq === brief.home.startingPitcher) {\n              return pit;\n            }\n          }\n        });\n      }\n    }\n  }, []);\n  useEffect(() => {\n    console.log(myPitcher);\n    console.log(oppoPitcher);\n  }, [myPitcher, oppoPitcher]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [pageActive[0] && /*#__PURE__*/_jsxDEV(MatchOPPO, {\n      brief: brief,\n      players: players,\n      setPageActive: setPageActive\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this), pageActive[1] && /*#__PURE__*/_jsxDEV(AssignHitters, {\n      user: user,\n      brief: brief,\n      myHitters: myHitters,\n      pitcher: myPitcher,\n      oppoPitcher: oppoPitcher,\n      players: players,\n      setPageActive: setPageActive\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this), pageActive[2] && /*#__PURE__*/_jsxDEV(MatchLineup, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Match, \"Dzyzm6B5d2/VzYIbO8ioYG/VnbU=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Match;\nexport default Match;\n\nvar _c;\n\n$RefreshReg$(_c, \"Match\");","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","configActions","testActions","axios","MatchOPPO","AssignHitters","MatchLineup","BackApi","Match","user","state","players","player","matches","test","nextMatchIndex","dispatch","pageActive","setPageActive","brief","setBrief","away","teamName","teamLogoUrl","teamWin","teamLose","teamDraw","startingPitcher","home","myHitters","setMyHitters","myPitcher","setMyPitcher","oppoPitcher","setOppoPitcher","get","manage","rotation","headers","jwt","then","res","setHome","userTeamname","logoUrl","userWin","userLose","userDraw","data","teamSetting1stSp","pitcherSeq","setPersentage","catch","error","console","log","trade","possHitters","matchSeq","pit","pitcher"],"sources":["C:/Users/multicampus/Desktop/projects/theground/front-end/src/match/Match.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux/es/exports\";\r\nimport { configActions } from \"../redux/slice/configSlice\";\r\nimport { testActions } from \"../redux/slice/testSlice\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport MatchOPPO from \"./components/matchOPPO/MatchOPPO\";\r\nimport AssignHitters from \"./components/assignHitters/assignHitters\";\r\nimport MatchLineup from \"./components/matchLineup/MatchLineup\";\r\n\r\nimport BackApi from \"../api/BackApi\";\r\n\r\nconst Match = () => {\r\n  const user = useSelector((state) => state.user.user);\r\n  const players = useSelector((state) => state.player.players);\r\n\r\n  // 테스트 데이터\r\n  const matches = useSelector((state) => state.test.matches);\r\n  const nextMatchIndex = useSelector((state) => state.test.nextMatchIndex);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [pageActive, setPageActive] = useState([true, false, false]);\r\n\r\n  const [brief, setBrief] = useState({\r\n    away: {\r\n      teamName: null,\r\n      teamLogoUrl: null,\r\n      teamWin: null,\r\n      teamLose: null,\r\n      teamDraw: null,\r\n      startingPitcher: null,\r\n    },\r\n    home: {\r\n      teamName: null,\r\n      teamLogoUrl: null,\r\n      teamWin: null,\r\n      teamLose: null,\r\n      teamDraw: null,\r\n      startingPitcher: null,\r\n    },\r\n  });\r\n  const [myHitters, setMyHitters] = useState([]);\r\n  const [myPitcher, setMyPitcher] = useState({});\r\n  const [oppoPitcher, setOppoPitcher] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      // (async () => {\r\n      //   await axios\r\n      //     .get(BackApi.game.brief, {\r\n      //       headers: {\r\n      //         \"X-ACCESS-TOKEN\": user.jwt,\r\n      //       },\r\n      //     })\r\n      //     .then((res) => {\r\n      //       setBrief(res.data);\r\n      //       dispatch(configActions.setPersentage(50));\r\n      //     })\r\n      //     .catch((error) => {\r\n      //       console.log(error);\r\n      //       dispatch(configActions.setPersentage(50));\r\n      //     });\r\n      // })();\r\n\r\n      (async () => {\r\n        await axios\r\n          .get(BackApi.manage.rotation, {\r\n            headers: {\r\n              \"X-ACCESS-TOKEN\": user.jwt,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            dispatch(\r\n              testActions.setHome({\r\n                teamName: user.userTeamname,\r\n                teamLogoUrl: user.logoUrl,\r\n                teamWin: user.userWin,\r\n                teamLose: user.userLose,\r\n                teamDraw: user.userDraw,\r\n                startingPitcher: res.data.teamSetting1stSp.pitcherSeq,\r\n              })\r\n            );\r\n            setBrief(matches[nextMatchIndex]);\r\n            dispatch(configActions.setPersentage(50));\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            dispatch(configActions.setPersentage(50));\r\n          });\r\n      })();\r\n\r\n      (async () => {\r\n        await axios\r\n          .get(BackApi.trade.possHitters, {\r\n            headers: {\r\n              \"X-ACCESS-TOKEN\": user.jwt,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            setMyHitters(res.data);\r\n            dispatch(configActions.setPersentage(50));\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      })();\r\n\r\n      if (brief.matchSeq) {\r\n        setMyPitcher(() => {\r\n          for (let pit of players.pitcher) {\r\n            if (pit.pitcherSeq === brief.home.startingPitcher) {\r\n              return pit;\r\n            }\r\n          }\r\n        });\r\n        setOppoPitcher(() => {\r\n          for (let pit of players.pitcher) {\r\n            if (pit.pitcherSeq === brief.away.startingPitcher) {\r\n              return pit;\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        setMyPitcher(() => {\r\n          for (let pit of players.pitcher) {\r\n            if (pit.pitcherSeq === brief.away.startingPitcher) {\r\n              return pit;\r\n            }\r\n          }\r\n        });\r\n        setOppoPitcher(() => {\r\n          for (let pit of players.pitcher) {\r\n            if (pit.pitcherSeq === brief.home.startingPitcher) {\r\n              return pit;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(myPitcher);\r\n    console.log(oppoPitcher);\r\n  }, [myPitcher, oppoPitcher]);\r\n\r\n  return (\r\n    <>\r\n      {pageActive[0] && (\r\n        <MatchOPPO\r\n          brief={brief}\r\n          players={players}\r\n          setPageActive={setPageActive}\r\n        ></MatchOPPO>\r\n      )}\r\n      {pageActive[1] && (\r\n        <AssignHitters\r\n          user={user}\r\n          brief={brief}\r\n          myHitters={myHitters}\r\n          pitcher={myPitcher}\r\n          oppoPitcher={oppoPitcher}\r\n          players={players}\r\n          setPageActive={setPageActive}\r\n        ></AssignHitters>\r\n      )}\r\n      {pageActive[2] && <MatchLineup></MatchLineup>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Match;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}